<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>polaris~ | Sam  Bilbow</title>    
    <meta name="author" content="Sam  Bilbow">
    <meta name="description" content="An Audiovisual Augmented Reality Experience Built on Open-Source Hardware and Software (2021)">
    <meta name="keywords" content="academic-website, portfolio-website, augmented-reality, music-technology">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700%7CRoboto+Slab:100,300,400,500,700%7CMaterial+Icons">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&amp;display=swap" rel="stylesheet"> 

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    <!-- Styles -->
    
    <link rel="shortcut icon" href="/assets/img/favicon.ico">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://sambilbow.com/projects/polaris/software/">
    
    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark">

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav sticky-bottom-footer">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/">Sam Bilbow<span> </span><img class="rounded-circle" id="emoji" src="/assets/img/emoji/catsty.gif"></a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item ">
                <a class="nav-link" href="/blog/">blog</a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/publications/">publications</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/projects/">projects</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/cv/">cv</a>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      <!-- page.html -->
        <div class="post">

          <header class="post-header">
            <h1 class="post-title">polaris~</h1>
            <p class="post-description">An Audiovisual Augmented Reality Experience Built on Open-Source Hardware and Software (2021)</p>
          </header>

          <article>
            <div class="caption">
    <a href="https://www.microsoft.com/en-gb/windows/" rel="external nofollow noopener" target="_blank"><img src="https://img.shields.io/badge/Platform-Windows-yellow?style=flat-square&amp;logo=windows"></a>
    <a href="https://unity.com/" rel="external nofollow noopener" target="_blank"><img src="https://img.shields.io/badge/Environment-Unity%20&amp;%20Pd-orange?style=flat-square&amp;logo=unity&amp;logoColor=white"></a>
    <a href="https://doi.org/10.21428/92fbeb44.8abb9ce6" rel="external nofollow noopener" target="_blank"><img src="https://img.shields.io/badge/Publication-NIME-green?style=flat-square&amp;logo=readthedocs&amp;logoColor=white"></a>
    <a href="https://github.com/sambilbow/polaris/wiki" rel="external nofollow noopener" target="_blank"><img src="https://img.shields.io/badge/Guide-Wiki-red?style=flat-square&amp;logo=todoist&amp;logoColor=white"></a>
    <a href="https://github.com/sambilbow/polaris/" rel="external nofollow noopener" target="_blank"><img src="https://img.shields.io/badge/Code-GitHub-blue?style=flat-square&amp;logo=github&amp;logoColor=white"></a>
</div>
<p><b style="text-align: center;" id="bottom-nav"><a href="../demos/">← Software: Running Demos</a><a href="../pd/">Software: Musical AR Instruments in PureData →</a></b></p>
<hr class="rounded">

<h2 id="software-planning-musical-ar-instruments">Software: Planning Musical AR Instruments</h2>
<p><strong>(July - August 2021)</strong></p>
<h3 id="current-state-of-the-art">Current state of the ARt</h3>
<p>At this stage, I have a working visual AR headset… what about audio? As mentioned in the <a href="../inspiration/">inspiration</a> for this project I am using wireless <a href="https://aftershokz.co.uk/products/aeropex" rel="external nofollow noopener" target="_blank">bone conduction headphones</a>, after trialling their use for audio AR in the area~ <a href="../../area/">project</a>. I use these because they serve as an aural equivalent to the method of visual mediation being used with the headset (‘see-through’ = ‘hear-through’), that is to say, just as the headset does not occlude the sight of real physical objects in the participant’s environment by using a half-mirror to combine virtual objects into the participants field of view, bone conduction headphones sit on the temple of the participant, rather than in the ear canal, and so they do not diminish the ability to hear sounds originating from real (not virtual) objects or processes in their environment.</p>

<p>The content for this headset and headphones is visually and auditorily assembled in three dimensions by the Unity engine in conjunction with real-time head and hand tracking data! What a sentence, and what a feat in itself – the credit for which lays soley with those genius minds that have enabled this open-source North Star project in the first place! 
<br></p>

<p><strong>“So what are you looking (listening) for?”</strong></p>

<p>I am interested in creating expressive musical instruments that are situated in AR; that is to say, they are spatially and contextually relevant to their real world environment, not only the virtual environment they are necessarily spawned into.</p>

<p><strong>“Ok, but how will you make musical instruments in a 3D game engine?”</strong></p>

<p>At this point, I would prefer to draw from an <strong>audio engine or audio-focused programming language</strong> that I already have some experience in, not only because it would be more familiar, but also because there are a few technical difficulties in trying to realise everything in Unity (more on that later). Sticking to one <strong>engine/language for prototyping audio interactions</strong> from the outset would be preferable in order to maintain progress and proficiency</p>

<p><strong>“How will you choose from Supercollider, Max MSP, PureData, Wwise, and FMOD amongst others?”</strong></p>

<p>In order to plan for the long-term relevance of this project in creating interactable, tangible, and expressive AR musical instruments, the features that this <strong>audio engine or audio-focused programming language</strong> would need are:</p>

<h4 id="1-uses-in-built-unity-audio-spatialisation">1. Uses In-Built Unity Audio Spatialisation</h4>
<p>Unity is a great 3D engine, with native (in-built) spatialisation of creatable elements called “GameObjects”, that can have:</p>
<ol>
  <li>Visual attributes such as three-dimensional meshes, material colours, and textural properties</li>
  <li>Physical attributes such as edges, position, mass, velocity</li>
  <li>Auditory attributes such as a sound source with pitch and volume dependent on the physical attributes of position and velocity (things further away from the AudioListener component, which is assigned to the position of the headset, are quieter for example)</li>
</ol>

<p>For these reasons, keeping audio “inside” Unity, and using its native audio spatialisation based on physical transform (x,y,z, velocity etc) values of the GameObjects is a feature that the project would benefit massively from in terms of labour. If instead I chose to have a separate <strong>audio engine/server</strong> running in the background, it would have to have its own “knowledge” of the physical attributes of <strong>all</strong> of the GameObjects in Unity, and then spatialise everything itself. This (whilst possible) is probably outside of the scope of this project as long as an alternative is available that can exist “inside” Unity.</p>

<h4 id="2-cheap-instantiable-audio">2. Cheap Instantiable Audio</h4>
<p>The chosen <strong>audio engine / language</strong> needs to have the functionality of being able to create simple templates of audio algorithms that are then called into existence or “instantiated” tens to <strong>hundreds</strong> of times as the auditory output of certain GameObjects in Unity.</p>

<h4 id="3-extended-audio-techniques-available">3. Extended Audio Techniques Available</h4>
<p>It’s not enough for the chosen <strong>audio engine/language</strong> to only have access to sample-based audio techniques (e.g. pressing a button triggers a pre-recorded sound file). It is definitely a feature I will need, as it is in cases more computationally “cheaper” to do so versus some synthesis techniques. However, due to the demands of real-time interaction in this project, and the aims of fine-grained expressive adaptation of musical textures, real-time synthesis will be one of the more often used techniques. More broadly and in the long-run, this project would benefit from being able to use as many audio techniques rather than having a cramped palette of 2 or 3 – drawing from this early choice the ability to create a wide variety of AR musical instruments - each of them having their own nuanced interaction methods, creative expressivities, and modes sensory perception modulation.</p>

<h4 id="4-real-time-parameter-control">4. Real-Time Parameter Control</h4>
<p>Building on the last two features, the project would call for the ability to change in real-time, parameters of the audio algorithms being used. This would be the main source interactibility with an instrument, as having no parameters to control would likely mean that the instrument would not be instrumental in doing anything. Additionally, it would reduce the extent of co-adaptation of musical textures between participant and their instrument if there were not any parameters of the sound that were effectable in real-time. Therefore, this <strong>audio engine/language</strong> must have the ability to expose its own parameters to Unity via C# scripting (which is the native language of Unity projects) so that attributes and values inherent to the associated GameObjects can be mapped to have effects on the audio algorithms. This would make interactions such as touching an object (which is an event that happens in Unity) be able to have effects such as increasing the pitch of the sound coming out of the object, randomising the volume, or changing the scale (which would be values inside the <strong>audio engine/language</strong>).</p>

<h4 id="5-allows-rapid-prototyping">5. Allows Rapid Prototyping</h4>
<p>In order to iterate quickly and efficiently on the design of instruments, whatever <strong>engine or language</strong> I am using must support quick changes to the structure and logic of the instrument and its audiovisual properties.</p>

<h4 id="6-open-source-free-and-cross-platform">6. Open-Source, Free, and Cross-Platform</h4>
<p>It would be preferable that this <strong>audio engine/language</strong> is open-source, free and cross-platform in order to be as inclusive as possible to a wide range of computational artists, designers, and developers wanting to implement and make their own AR musical instruments.</p>

<p><br></p>

<h3 id="what-to-use-then">What to use then?</h3>
<p>The following are only some of the available options, but are those that tick the most boxes feature-wise.</p>

<p><strong>Unity’s AudioSource Component</strong></p>
<div class="row">
    <div class="col-sm mt-2 mt-md-0">
        <table>
            <thead>
                <tr>
                <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                <td>★★★★★ Uses Unity Spatialisation</td>
                </tr>
                <tr>
                <td>★★★★★ Cheap Instantiable Audio</td>
                </tr>
                <tr>
                <td>★★☆☆☆ Extended Audio Techniques Available</td>
                </tr>
                <tr>
                <td>★★★☆☆ Real-Time Parameter Control</td>
                </tr>
                <tr>
                <td>★★★☆☆ Allows Rapid Prototyping</td>
                </tr>
                <tr>
                <td>★★★★★ Open-Source, Free, and Cross-Platform</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="col-sm mt-2 mt-md-0">
        <div class="embed-responsive embed-responsive-16by9">
            <iframe src="https://www.youtube.com/embed/ngH9x8HtTaU" frameborder="0" height="200" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
        </div>
    </div>
</div>
<div class="caption">
    No real-time synthesis means that instruments would be fairly simple sample triggerers with not much parameterisation available.
</div>

<p><strong>C# Granulator Synth via <a href="https://github.com/emmmmmmm/Granulator" rel="external nofollow noopener" target="_blank">Granulator</a></strong></p>
<div class="row">
    <div class="col-sm mt-2 mt-md-0">
        <table>
            <thead>
                <tr>
                <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                <td>★★★★★ Uses Unity Spatialisation</td>
                </tr>
                <tr>
                <td>★★★★★ Cheap Instantiable Audio</td>
                </tr>
                <tr>
                <td>★★★☆☆ Extended Audio Techniques Available</td>
                </tr>
                <tr>
                <td>★★★★☆ Real-Time Parameter Control</td>
                </tr>
                <tr>
                <td>★★★☆☆ Allows Rapid Prototyping</td>
                </tr>
                <tr>
                <td>★★★★★ Open-Source, Free, and Cross-Platform</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="col-sm mt-2 mt-md-0">
        <div class="embed-responsive embed-responsive-16by9">
            <iframe src="https://www.youtube.com/embed/qqEANHSY1hY" frameborder="0" height="200" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
        </div>
    </div>
</div>
<div class="caption">
    Granular synthesis only, would be a fairly limited set of options for building parameterised instruments.
</div>

<p><strong>Supercollider</strong></p>
<div class="row">
    <div class="col-sm mt-2 mt-md-0">
        <table>
            <thead>
                <tr>
                <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                <td>☆☆☆☆☆ Uses Unity Spatialisation</td>
                </tr>
                <tr>
                <td>★★★★★ Cheap Instantiable Audio</td>
                </tr>
                <tr>
                <td>★★★★☆ Extended Audio Techniques Available</td>
                </tr>
                <tr>
                <td>★★★★★ Real-Time Parameter Control</td>
                </tr>
                <tr>
                <td>★★★★★ Allows Rapid Prototyping</td>
                </tr>
                <tr>
                <td>★★★★★ Open-Source, Free, and Cross-Platform</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="col-sm mt-2 mt-md-0">
        <!-- <div class ="embed-responsive embed-responsive-16by9">
            <iframe src="https://www.youtube.com/embed/qqEANHSY1hY" frameborder="0" height="200" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
        </div> -->
    </div>
</div>
<div class="caption">
    No integration with Unity means two engines running (scsynth+Unity), and hence there would be a lot of work associated with attaining the same level of 3D audio believability that Unity provides natively. I would have to send all GameObject object, head, hand transforms to Supercollider and re-create the 3D engine environment before even getting to synthesis.
</div>

<p><strong>MaxMSP</strong></p>
<div class="row">
    <div class="col-sm mt-2 mt-md-0">
        <table>
            <thead>
                <tr>
                <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                <td>☆☆☆☆☆ Uses Unity Spatialisation</td>
                </tr>
                <tr>
                <td>★★★★☆ Cheap Instantiable Audio</td>
                </tr>
                <tr>
                <td>★★★★★ Extended Audio Techniques Available</td>
                </tr>
                <tr>
                <td>★★★★★ Real-Time Parameter Control</td>
                </tr>
                <tr>
                <td>★★★★★ Allows Rapid Prototyping</td>
                </tr>
                <tr>
                <td>★☆☆☆☆ Open-Source, Free, and Cross-Platform</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="col-sm mt-2 mt-md-0">
        <!-- <div class ="embed-responsive embed-responsive-16by9">
            <iframe src="https://www.youtube.com/embed/qqEANHSY1hY" frameborder="0" height="200" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
        </div> -->
    </div>
</div>
<div class="caption">
    Same issue as Supercollider, but is also not free nor open-source.
</div>

<p><strong>Pure Data via <a href="https://blog.audiokinetic.com/how-sound-designers-use-pd-heavy-to-develop-dsp-plugins-part1/" rel="external nofollow noopener" target="_blank">Heavy Compiler and Wwise</a></strong></p>
<div class="row">
    <div class="col-sm mt-2 mt-md-0">
        <table>
            <thead>
                <tr>
                <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                <td>☆☆☆☆☆ Uses Unity Spatialisation</td>
                </tr>
                <tr>
                <td>★★★☆☆ Cheap Instantiable Audio</td>
                </tr>
                <tr>
                <td>★★★★★ Extended Audio Techniques Available</td>
                </tr>
                <tr>
                <td>★★★★★ Real-Time Parameter Control</td>
                </tr>
                <tr>
                <td>★☆☆☆☆ Allows Rapid Prototyping</td>
                </tr>
                <tr>
                <td>★☆☆☆☆ Open-Source, Free, and Cross-Platform</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="col-sm mt-2 mt-md-0">
        <!-- <div class ="embed-responsive embed-responsive-16by9">
            <iframe src="https://www.youtube.com/embed/qqEANHSY1hY" frameborder="0" height="200" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
        </div> -->
    </div>
</div>
<div class="caption">
    Not being comfortable with Wwise means this is a poor option. It would also require using a separate 3D audio engine such as Resonance or Microsoft 3D Audio. It would be slow to prototype due to the time compiling patches into C for Wwise.
</div>

<p><strong>Pure Data via <a href="https://github.com/LibPdIntegration/LibPdIntegration" rel="external nofollow noopener" target="_blank">LibPdIntegration</a></strong></p>
<div class="row">
    <div class="col-sm mt-2 mt-md-0">
        <table>
            <thead>
                <tr>
                <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                <td>★★★★★ Uses Unity Spatialisation</td>
                </tr>
                <tr>
                <td>★★★★★ Cheap Instantiable Audio</td>
                </tr>
                <tr>
                <td>★★★★★ Extended Audio Techniques Available</td>
                </tr>
                <tr>
                <td>★★★★★ Real-Time Parameter Control</td>
                </tr>
                <tr>
                <td>★★★★★ Allows Rapid Prototyping</td>
                </tr>
                <tr>
                <td>★★★★★ Open-Source, Free, and Cross-Platform</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="col-sm mt-2 mt-md-0">
        <div class="embed-responsive embed-responsive-16by9">
            <iframe src="https://www.youtube.com/embed/CzJlEEcOt-A" frameborder="0" height="200" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
        </div>
    </div>
</div>
<div class="caption">
    This is the way to go!
</div>
<p><br></p>

<p><b style="text-align: center;" id="bottom-nav"><a href="../demos/">← Software: Running Demos</a><a href="../pd/">Software: Musical AR Instruments in PureData →</a></b></p>

<p><br><br></p>
<div style="text-align: center;">
    <h3>Resources</h3>
    <b><a href="https://docs.projectnorthstar.org/" rel="external nofollow noopener" target="_blank">Headset Documentation: Project North Star</a></b><br>
    <b><a href="https://discord.gg/wBsV2ehpq2" rel="external nofollow noopener" target="_blank">Community: Project North Star Discord Server</a></b><br>
    <b><a href="https://github.com/HyperLethalVector/ProjectEsky-UnityIntegration" rel="external nofollow noopener" target="_blank">Repository: Project Esky Renderer</a></b><br>
    <br><br>
</div>

          </article>

        </div>

    </div>

    <!-- Footer -->    <footer class="sticky-bottom mt-5">
      <div class="container">
        © Copyright 2023 Sam  Bilbow. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a>, and hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>.
Last updated: April 17, 2023.
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script><!-- Load Common JS -->
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
